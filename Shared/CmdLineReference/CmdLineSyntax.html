<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="withMenu" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../" data-mc-conditions="Review.ReviewOff" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="splice&gt; CLI">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="description" content="Syntax rules and helpful information for using the Splice Machine splice&gt; command line interpreter." /><title>Command Line Syntax</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/Stylesheets/SpliceTriPaneStyles.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../index.html#Shared/CmdLineReference/CmdLineSyntax.html">Open topic with navigation</a>
        </p>
        <div class="TopicContent">
            <h1><a name="kanchor43"></a>Using the splice&gt;&#160;Command Line Interface</h1>
            <p>This topic presents information that will help you in using the Splice Machine <span class="AppCommand">splice&gt;</span> command line interpreter, in the following sections:</p>
            <ul>
                <li value="1">The <a href="#splice%3E" class="selected">splice&gt;&#160;Command Line Interpreter</a> section shows you how to invoke the splice&gt;&#160;command line.</li>
                <li value="2">The <a href="#Command" class="selected">Command Line Output</a> section describes how you can adjust the appearance of output from the interepreter.</li>
                <li value="3">The <a href="#Syntax" class="selected">Command Line Syntax</a> section summarizes the syntax of commands, including capitalization and case-sensitivity rules, as well as various special characters you can use in your commands. It also shows you how to include comments in your command lines and how to run a file of&#160;SQL&#160;commands.</li>
                <li value="4">The <a href="#ExampleCommands" class="selected">Example Command Lines</a> section shows several examples of command lines.</li>
                <li value="5">The <a href="CmdLineSummary.html">Scripting Splice Commands</a> section describes how to create a script of <span class="AppCommand">splice&gt;</span>&#160;commands to run a series of operations like loading a number of files into your database</li>
            </ul>
            <p>The remainder of this section contains a reference page for each of the command line commands.</p>
            <h2><a name="splice&gt;"></a>splice&gt;&#160;Command Line Interpreter</h2>
            <p>To run the Splice Machine command line interpreter, run the <span class="ShellCommand">sqlshell.sh</span> script in your terminal window. </p>
            <div class="preWrapperWide"><pre class="ShellCommand" xml:space="preserve">% ./sqlshell.sh
splice&gt; </pre>
            </div>
            <p>When the interpreter prompts you with <span class="AppCommand">splice&gt;</span>, you can enter commands, ending each with a semicolon. For a complete description of <span class="AppCommand">splice&gt;</span>&#160;syntax, see the next section in this topic, <a href="#Syntax" class="selected">Command Line Syntax</a>, </p>
            <p>Note that you can optionally specify a file of sql commands that the interpreter will run using the <span class="CodeFont">-f</span> parameter; after running those commands, the interpreter exits. For example:</p>
            <div class="preWrapper"><pre class="ShellCommand" xml:space="preserve">./sqlshell.sh -f /home/mydir/sql/test.sql</pre>
            </div>
            <p>You can optionally include parameter values when running <span class="ShellCommand">sqlshell.sh</span> script, to change default values. Here's the syntax:</p>
            <div class="preWrapper"><pre class="ShellCommand" xml:space="preserve">sqlshell.sh [-h <span class="ItalicFont">host</span>] [-p <span class="ItalicFont">port</span> ] [-u <span class="ItalicFont">username</span>] [-s <span class="ItalicFont">password</span>] [-f <span class="ItalicFont">commandsFile</span></pre>
            </div>
            <div class="paramList">
                <p class="paramName">-host </p>
                <p class="paramDefnFirst">The hostname or IP&#160;address of your Splice Machine HBase RegionServer. </p>
                <p class="paramDefn">The default value is <span class="CodeFont">localhost</span>.</p>
                <p class="paramName">-port</p>
                <p class="paramDefnFirst">The port on which Splice Machine is listening for your connection. </p>
                <p class="paramDefn">The default value is <span class="CodeFont">1527</span>.</p>
                <p class="paramName">-username</p>
                <p class="paramDefnFirst">The user name for your Splice Machine database.</p>
                <p class="paramDefn">The default value is <span class="CodeFont">splice</span>.</p>
                <p class="paramName">-password</p>
                <p class="paramDefnFirst">The password for your Splice Machine database.</p>
                <p class="paramDefn">The default value is <span class="CodeFont">admin</span>.</p>
                <p class="paramName">-f [fileName]</p>
                <p class="paramDefnFirst">The name of a file with SQL commands in it:&#160;<span class="CodeFont">sqlshell</span> starts up the <span class="AppCommand">splice&gt;</span>&#160;command line interpreter, runs the commands in the file, and then exits. For example:</p>
                <div class="preWrapperWide"><pre class="ShellCommand" xml:space="preserve">$ ./sqlshell.sh -f /home/mydir/sql/test.sql

 ========= rlwrap detected and enabled.  Use up and down arrow keys to scroll through command line history. ======== 

Running Splice Machine SQL shell
For help: "splice&gt; help;"
SPLICE* - 	jdbc:splice://10.1.1.111:1527/splicedb
* = current connection
splice&gt; elapsedtime on;
splice&gt; select count(*) from CUST_EMAIL;
1                   
--------------------
0                   

1 row selected
ELAPSED TIME = 6399 milliseconds
splice&gt; 
$ </pre>
                </div>
                <p>The <span class="CodeFont">test.sql</span> file used in the above example contains the following commands:</p>
                <div class="preWrapperWide"><pre class="ShellCommand" xml:space="preserve">elapsedtime on;
select count(*) from CUST_EMAIL;</pre>
                </div>
            </div>
            <h2><a name="Command"></a><a name="kanchor44"></a>Command Line Output</h2>
            <p>Output from <span class="AppCommand">splice&gt;</span>&#160;commands is displayed in your terminal window. The <span class="CodeFont"><a href="CmdMaxDisplayWidth.html">maximumdisplaywidth</a></span> setting affects how the output is displayed; specifically, it determines if the content of each column is truncated to fit within the width that you specify.</p>
            <p>When you set <span class="CodeFont"><a href="CmdMaxDisplayWidth.html">maximumdisplaywidth</a></span> to <span class="CodeFont">0</span>, all output is displayed, without truncation.</p>
            <h2><a name="kanchor45"></a>Command Line Syntax<a name="Syntax"></a></h2>
            <p>This section briefly summarizes the syntax of command lines you can enter in response to the <span class="AppCommand">splice&gt;</span>&#160;prompt, including&#160;these subsections:</p>
            <ul>
                <li value="1"><a href="#Finish" class="selected">Finishing and submitting command lines</a>
                </li>
                <li value="2"><a href="#Capitali" class="selected">Capitalization and case sensitivity rules</a>
                </li>
                <li value="3"><a href="#Special" class="selected">Special character usage</a>
                </li>
                <li value="4"><a href="#Multiline" class="selected">Running multi-line commands</a>
                </li>
                <li value="5"><a href="#RunFromFile" class="selected">Running commands from a file</a>
                </li>
                <li value="6"><a href="#Comments" class="selected">Including comments in your command lines</a>
                </li>
                <li value="7"><a href="#Using" class="selected">Using rlWrap on the command line</a>
                </li>
            </ul>
            <h3><a name="Finish"></a>Finish Commands with a Semicolon</h3>
            <p>The command line interface allows you to enter multi-line commands, and waits for a non-escaped semicolon (<span class="CodeFont">;</span>) character to signal the end of the command.</p>
            <p>A command is not executed until you enter the semicolon character and press the <span class="CodeFont">Return</span> or <span class="CodeFont">Enter</span> key.</p>
            <h3><a name="kanchor46"></a><a name="Capitali"></a>Capitalization and Case Sensitivity Rules</h3>
            <p>Certain identifiers and keywords are case sensitive:</p>
            <table summary="Summary of case sensitivity in the splice&gt; command line syntax.">
                <col />
                <col />
                <col />
                <thead>
                    <tr>
                        <th>Identifier</th>
                        <th>Case Sensitive?</th>
                        <th>Notes and Example</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="ItalicFont">
                            <p>SQL&#160;keywords</p>
                        </td>
                        <td>Not case sensitive</td>
                        <td>These are all equivalent:&#160;<span class="Example">SELECT, Select, select, SeLeCt</span>.</td>
                    </tr>
                    <tr>
                        <td class="ItalicFont">ANSI SQL&#160;identifiers</td>
                        <td>Not case sensitive</td>
                        <td>These are not case sensitive unless they are delimited.</td>
                    </tr>
                    <tr>
                        <td class="ItalicFont">Java-style identifiers</td>
                        <td>Always case sensitive</td>
                        <td>
                            <p>These are NOT&#160;equivalent:&#160;<span class="Example">my_name, My_Name</span>.</p>
                        </td>
                    </tr>
                </tbody>
            </table>
            <h3><a name="kanchor47"></a><a name="Special"></a>Special Characters You Can Use</h3>
            <p>The following table describes the special characters you can use in commands:</p>
            <table summary="Summary of special character usage in splice&gt; command line syntax.">
                <col />
                <col />
                <col />
                <thead>
                    <tr>
                        <th>Purpose</th>
                        <th>Character(s)&#160;to use</th>
                        <th>Notes and example</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="ItalicFont">To delimit special identifiers</td>
                        <td>Double quotation marks (<span class="CodeFont">"</span>)</td>
                        <td>Special identifiers are  also known as <span class="ItalicFont">delimited identifiers</span>.</td>
                    </tr>
                    <tr>
                        <td class="ItalicFont">To delimit character strings</td>
                        <td>Single quotation marks (<span class="CodeFont">'</span>)</td>
                        <td>&#160;</td>
                    </tr>
                    <tr>
                        <td class="ItalicFont">To escape a single quote or apostrophe within a character string</td>
                        <td>Single quotation mark ( (<span class="CodeFont">'</span>)</td>
                        <td>
                            <p class="noSpaceAbove">Since single quotation marks are used to delimit strings, you must escape any single quotation marks you want included in the string itself. </p>
                            <p>Use the single quotation mark itself as the escape character, which means that you enter two single quotation marks within a character string to include one single quotation mark. </p>
                            <p>Example: <span class="Example">'This string includes ''my quoted string'' within it.'</span></p>
                        </td>
                    </tr>
                    <tr>
                        <td class="ItalicFont">To escape a double quote</td>
                        <td><span class="ItalicFont">Not needed </span>
                        </td>
                        <td>You can simply include a double quotation mark in your command lines.</td>
                    </tr>
                    <tr>
                        <td class="ItalicFont">To specify a wild card within a Select expression</td>
                        <td>The asterisk (<span class="CodeFont">*</span>) character</td>
                        <td>
                            <p class="noSpaceAbove">This is the SQL&#160;metasymbol for selecting all matching entries.</p>
                            <p>Example: <span class="Example">SELECT *&#160;FROM MyTable;</span></p>
                        </td>
                    </tr>
                    <tr>
                        <td class="ItalicFont">To specify a wild card sequence in a string with the <span class="CodeFont">LIKE</span>&#160;operator</td>
                        <td>The percentage (<span class="CodeFont">%</span>) character</td>
                        <td>Example: <span class="Example">SELECT *&#160;FROM MyTable WHERE Name LIKE&#160;'Ga%';</span></td>
                    </tr>
                    <tr>
                        <td class="ItalicFont">To specify a single wild card character in a string with the <span class="CodeFont">LIKE</span>&#160;operator</td>
                        <td>The underline (<span class="CodeFont">_</span>) character</td>
                        <td>Example: <span class="Example">SELECT *&#160;FROM MyTable WHERE Name LIKE&#160;'%Er_n%';</span></td>
                    </tr>
                    <tr>
                        <td class="ItalicFont">To begin a single-line comment</td>
                        <td>Two dashes (<span class="CodeFont">--</span>)</td>
                        <td>
                            <p class="noSpaceAbove"><span class="Example"> -- the following selects everything in my table:</span>
                                <br style="mc-tag-and-class: span;" /><span class="Example">SELECT&#160;*&#160;FROM&#160;MyTable;</span>
                            </p>
                        </td>
                    </tr>
                    <tr>
                        <td class="ItalicFont">To bracket a multi-line comment</td>
                        <td><span class="CodeFont">/*</span>&#160;and <span class="CodeFont">*/</span></td>
                        <td>
                            <p class="noSpaceAbove">All text between the comment start <span class="CodeFont">/*</span> and the comment end <span class="CodeFont">*/</span> is ignored.</p><pre class="ExampleCell" xml:space="preserve">/* the following selects everything in my table,
   which we'll then display on the screen */
SELECT&#160;*&#160;FROM&#160;MyTable;</pre>
                        </td>
                    </tr>
                </tbody>
            </table>
            <h3><a name="kanchor48"></a>Entering Multi-line Commands<a name="Multiline"></a></h3>
            <p>When using the command line (the <span class="AppCommand">splice&gt;</span> prompt), you must end each SQL statement with a semicolon (<span class="CodeFont">;</span>). For example:</p>
            <div class="preWrapper"><pre class="AppCommand">
splice&gt; select * from myTable;	</pre>
            </div>
            <p>You can extend SQL statements across multiple lines, as long as you end the last line with a semicolon. Note that the <span class="CodeFont">splice&gt;</span>&#160;command line interface prompts you with a fresh <span class="AppCommand">&gt;</span> at the beginning of each line. For example:</p>
            <div class="preWrapper"><pre class="AppCommand" xml:space="preserve">
splice&gt; select * from myTable<br />&gt; where i &gt; 1;	</pre>
            </div>
            <h3><a name="kanchor49"></a>Running SQL Statements From a File<a name="RunFromFile"></a></h3>
            <p>You can also create a file that contains a collection of SQL statements, and then use the <span class="CodeFont">run </span>command to run those statements. For example:</p>
            <div class="preWrapper"><pre class="AppCommand">splice&gt; run 'path/to/file.sql';</pre>
            </div>
            <h3><a name="kanchor50"></a>Including Comments<a name="Comments"></a></h3>
            <p>You can include comments on the command line or in a SQL statement file by prefacing the command with two dashes (<span class="CodeFont">--</span>). Any text following the dashes is ignored by the SQL parser. For example:</p>
            <div class="preWrapperWide"><pre class="AppCommand" xml:space="preserve">splice&gt; select * from myTable   -- This selects everything in myTable;</pre>
            </div>
            <h3>Misaligned Quotes</h3>
            <p>If you mistakenly enter a command line that has misaligned quotation symbols, the interpreter can seem unresponsive. The solution is to add the missing quotation mark(s), followed by a semicolon, and resubmit the line. It won't work as expected, but it will enable you to keep working.</p>
            <h3><a name="Using"></a>Using rlWrap on the Command Line&gt;</h3>
            <p>rlWrap is a Unix utility that Splice&#160;Machine encourages you to use:&#160;it allows you to scroll through your command line history, reuse and alter lines, and more. We've included a <a href="RLWrapSummary.html">synopsis of it here.</a></p>
            <h2><a name="kanchor51"></a>Example Command Lines<a name="ExampleCommands"></a></h2>
            <p>Here are several example command lines:</p>
            <table summary="Example command lines">
                <col />
                <col />
                <thead>
                    <tr>
                        <th>Operation</th>
                        <th>Command Example</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Display a list of all tables and their schemas</td>
                        <td><span class="AppCommand">splice&gt; show tables;</span>
                        </td>
                    </tr>
                    <tr>
                        <td>Display the columns and attributes of a table</td>
                        <td><span class="AppCommand">splice&gt; describe tableA;</span>
                        </td>
                    </tr>
                    <tr>
                        <td>Limit the number of rows returned from a select statement</td>
                        <td><span class="AppCommand">splice&gt; select * from tableA { limit 10 };</span>
                        </td>
                    </tr>
                    <tr>
                        <td>Print a current time stamp</td>
                        <td><span class="AppCommand">splice&gt; values current_timestamp;</span>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <p class="noteNote" data-mc-autonum="NOTE: &#160;"><span class="autonumber"><span class="noteAutoNum">NOTE: &#160;</span></span>Remember that you must end your command lines with the semicolon (<span class="CodeFont">;</span>)&#160;character, which submits the command line to the interpreter.</p>
                        </td>
                    </tr>
                </tbody>
            </table>
            <h2><a name="kanchor52"></a>Scripting <span class="AppCommand">splice&gt;</span> Commands</h2>
            <p>You can use the Splice Machine Command Line Interface (<span class="AppCommand">splice&gt;</span>) to interactively run database commands. This topic describes how to create a script of <span class="AppCommand">splice&gt;</span> commands to run a series of operations, such as loading a number of files into your database. To script a series of <span class="AppCommand">splice&gt;</span> commands, you need to create:</p>
            <ul>
                <li value="1">an SQL commands file containing the SQL statements you want executed</li>
                <li value="2">an SQL file to connect to the database and invoke the SQL commands file</li>
                <li value="3">a shell script using Bash (<span class="CodeFont">/bin/bash</span>)</li>
            </ul>
            <p>Follow these steps to create your script:</p>
            <div class="opsStepsList">
                <ol class="boldFont">
                    <li value="1">
                        <p class="topLevel">Create a file of SQL&#160;commands:</p>
                        <p class="indentLevel1">First, create a file that contains the SQL&#160;commands you want to run against your Splice Machine database. For this example, we'll create a file named <span class="CodeFont">create-my-tables.sql</span> that creates a table in the database:</p>
                        <div class="preWrapper"><pre class="Example" xml:space="preserve">create table customers (
   CUSTOMER_ID BIGINT,
   FIRST_NAME VARCHAR(30),
   LAST_NAME VARCHAR(30)
);</pre>
                        </div>
                    </li>
                    <li value="2">
                        <p class="topLevel">Create an SQL&#160;file to connect to the database and invoke the commands file</p>
                        <p class="indentLevel1">We need a separate SQL&#160;file named <span class="CodeFont">my_load_datascript.sql</span>that connects to your database and then invokes the file of SQL&#160;commands we just created. </p>
                        <p class="noteNote" data-mc-autonum="NOTE: &#160;"><span class="autonumber"><span class="noteAutoNum">NOTE: &#160;</span></span>The <span class="CodeFont">connect</span> command in this file must run before running the file of SQL&#160;statements.</p>
                        <p class="indentLevel1">Here we name the first SQL&#160;file, and define it to run the SQL&#160;statements file named <span class="CodeFont">create-my-tables.sql:</span></p>
                        <p class="indentLevel1">
                            <div class="preWrapper"><pre class="Example" xml:space="preserve" style="font-weight: normal;">   --First connect to the database
connect 'jdbc:splice://<span class="Highlighted">&lt;regionServer&gt;</span>:1527/splicedb';

   --Next run your sql file
run '/users/yourname/create-my-tables.sql';

show tables;
quit;</pre>
                            </div>
                        </p>
                        <p class="indentLevel1"> If you are running Splice Machine on a cluster, connect from a machine that is NOT&#160;running an HBase RegionServer and specify the IP&#160;address of a <span class="HighlightedCode">regionServer</span> node, e.g. <span class="AppCommand">10.1.1.110</span>. If you're using the standalone version of Splice Machine, specify <span class="HighlightedCode">localhost</span> instead.</p>
                    </li>
                    <li value="3">
                        <p class="topLevel">Create a shell script to run your SQL&#160;connect file</p>
                        <p class="indentLevel1">We now create a shell script named <span class="CodeFont">load_datascript.sh</span> to run the <span class="CodeFont">my_load_datascript.sql</span> file:</p>
                        <div class="preWrapperWide"><pre class="Example" xml:space="preserve" style="font-weight: normal;">#!/bin/bash

export CLASSPATH=&lt;FULL_PATH_TO_SPLICEMACHINE_JAR_FILE&gt;
java -Djdbc.drivers=com.splicemachine.db.jdbc.ClientDriver -Dij.outfile=my_load_datascript.out com.splicemachine.db.tools.ij &lt; my_load_datascript.sql</pre>
                        </div>
                        <p class="indentLevel1"> The first line of this script must set the <span class="CodeFont">CLASSPATH</span> to the location of your Splice Machine jar file. The second line runs the ij command, specifying its output file (<span class="CodeFont">my_load_datascript.out</span>) and its SQL commands input file, which is the <span class="CodeFont">my_load_datascript_sql</span> file that we created in the previous step.</p>
                    </li>
                    <li value="4">
                        <p class="topLevel">Make your shell script executable</p>
                        <p class="indentLevel1">We need to make the shell script executable with the chmod shell command:</p>
                        <div class="preWrapper"><pre class="ShellCommand" xml:space="preserve">
chmod +x load_datascript.sh</pre>
                        </div>
                    </li>
                    <li value="5">
                        <p class="topLevel">Use nohup to run the script</p>
                        <p class="indentLevel1">The <span class="ShellCommand">nohup</span> utility allows you to run a script file in the background, which means that it will continue running if you log out, disconnect from a remote machine, or lose your network connection.</p>
                        <div class="preWrapper"><pre class="ShellCommand" xml:space="preserve">
nohup ./load_datascript.sh &gt; ./load_datascript.out 2&gt;&amp;1 &amp;</pre>
                        </div>
                        <p class="indentLevel1">Here's the syntax for the <span class="CodeFont">nohup</span> utility:</p>
                        <div class="preWrapper"><pre class="FcnSyntax" xml:space="preserve">
nohup ./command-name.sh &gt; ./command-name.out 2&gt;&amp;1 &amp;
</pre>
                        </div>
                        <div class="paramList">
                            <p class="paramName">command-name.sh</p>
                            <p class="paramDefnFirst">The name of the shell script or a command name.</p>
                            <p class="paramName">command-name.out</p>
                            <p class="paramDefnFirst">The name of the file to capture any output written to <span class="CodeFont">stdout</span>.</p>
                            <p class="paramName">2&gt;&amp;1</p>
                            <p class="paramDefnFirst">This causes <span class="CodeFont">stderr</span> (file descriptor <span class="CodeFont">2</span>)&#160;to be written to <span class="CodeFont">stdout</span> (file descriptor <span class="CodeFont">1</span>); this means that all output will be captured in <span class="CodeFont">command-name.out</span>.</p>
                            <p class="paramName">&amp;</p>
                            <p class="paramDefnFirst">The <span class="ShellCommand">nohup</span> utility does not automatically run its command in the background, so we add the <span class="CodeFont">&amp;</span>&#160;to do</p>
                        </div>
                    </li>
                </ol>
            </div>
            <p style="font-size: 6pt;margin-top: 0;margin-bottom: 0;">&#160;</p>
        </div>
    </body>
</html>