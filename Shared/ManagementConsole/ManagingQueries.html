<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="withMenu" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../" data-mc-conditions="Review.ReviewOff" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Management Console">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="description" content="Describes how to use Splice Machine Management Console  to monitor (and kill) queries on your cluster in real time." /><title>Managing queries with the Splice Machine Management Console</title>
        <link href="../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../Resources/Stylesheets/SpliceTriPaneStyles.css" rel="stylesheet" />
        <script src="../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../index.html#Shared/ManagementConsole/ManagingQueries.html">Open topic with navigation</a>
        </p>
        <div class="TopicContent">
            <h1><a name="kanchor298"></a>Managing Queries with the Console</h1>
            <p>The Splice Machine Management Console allows you to view queries that are currently running and have completed running in your database. You typically start at the top level, viewing jobs, and then drill down into individual job details, job stages, and task details, as described in these sections:</p>
            <ul>
                <li value="1"><a href="#Viewing4">Viewing Summary Pages</a> describes the console's top-level summary pages.</li>
                <li value="2"><a href="#Viewing">Viewing Job Details</a> describes the pages in which you can view details of active or completed jobs.</li>
                <li value="3"><a href="#Viewing2">Viewing Stage Details</a> describes the pages in which you can view details of active and completed stages.</li>
                <li value="4"><a href="#Terminat">Terminating a Stage</a> shows you how to terminate a job stage that is not performing as you think it should.</li>
            </ul>
            <h2><a name="Viewing4"></a>Viewing Summary Pages</h2>
            <p>The console includes five summary pages, each of which can be accessed from the tab bar at the top of the console window:</p>
            <ul>
                <li value="1"><a href="#The2">The Jobs Summary page</a> shows information about all active and completed jobs.</li>
                <li value="2"><a href="#The3">The Stages Summary Page</a> shows all stages for all jobs, both active and completed.</li>
                <li value="3"><a href="#The4">The Storage Summary Page</a> shows any RDDs that you have persisted or cached to memory.</li>
                <li value="4"><a href="#The5">The Environment Summary Page</a> shows information about the Spark run-time environment.</li>
                <li value="5"><a href="#The6">The Executors Summary Page</a> shows the executors that are currently running.</li>
            </ul>
            <h3><a name="The2"></a>The Jobs Summary page</h3>
            <p>The <span class="ItalicFont">Jobs Summary Page</span> is the top-level view in the Splice Machine Management Console, It shows you a summary of any currently active and all completed jobs.</p>
            <p>You land on this page when you first view the <span class="ItalicFont">Management Console</span> in your browser, and you can view it at any time by clicking the <span class="AppCommand">Jobs</span> tab in the tab bar at the top of the page.</p>
            <div>
                <img src="../../Resources/Images/SparkUIJobs.png" class="indentedTightSpacing" alt="Query Management Overview Screen" />
            </div>
            <p class="noteNote" data-mc-autonum="NOTE: &#160;"><span class="autonumber"><span class="noteAutoNum">NOTE: &#160;</span></span>A stage is shown as skipped when the data has been fetched from a cache and there was no need to reexecute the stage; this happens when shuffling data because the Spark engine automatically caches generated data.</p>
            <p>You can click the a job description name (in <span class="ConsoleLink">blue</span>)&#160;to view job details of any job in the <span class="AppCommand">Active Jobs</span> or <span class="AppCommand">Completed Jobs</span> sections.</p>
            <h3><a name="The3"></a>The Stages Summary Page</h3>
            <p>The <span class="ItalicFont">StagesSummary Page</span> shows you the available scheduling pools, and a summary of the stages for all active and completed jobs. You can access this page by clicking the <span class="AppCommand">Stages</span> tab in the tab bar at the top of the window.</p>
            <div>
                <img src="../../Resources/Images/SparkUIStagesAllJobs.png" class="indentedTightSpacing" alt="Spark UI stages summary for all jobs" />
            </div>
            <p>You can click the descriptive name of a stage (in <span class="ConsoleLink">blue</span>)&#160;to view the stage details. </p>
            <p>The <span class="AppCommand">Fair Scheduler Pools</span> section at the top of the page shows the name and weighting value for each of the scheduler pools that have been defined for your database jobs.</p>
            <h3><a name="The4"></a>The Storage Summary Page</h3>
            <p>The <span class="ItalicFont">Storage Summary Page</span> displays information about any RDDs that are currently persisted or cached. You can access this page by clicking the <span class="AppCommand">Storage</span> tab in the tab bar at the top of the window:</p>
            <h3><a name="The5"></a>The Environment Summary Page</h3>
            <p>The <span class="ItalicFont">Environment Summary Page</span> displays information about which software versions you're using, and shows the values of the Spark-related environment variables. You can access this page by clicking the <span class="AppCommand">Environment</span> tab in the tab bar at the top of the window:</p>
            <div>
                <img src="../../Resources/Images/SparkUIEnviroment.png" class="indentedTightSpacing" alt="Spark UI environment summary page" />
            </div>
            <h3><a name="The6"></a>The Executors Summary Page</h3>
            <p>The <span class="ItalicFont">Executors Summary Page</span> shows you the Spark executors that are currently running.  You can access this page by clicking the <span class="AppCommand">Executors</span> tab in the tab bar at the top of the window:</p>
            <div>
                <img src="../../Resources/Images/SparkUIExecutors.png" class="indentedTightSpacing" alt="Spark UI executors summary page" />
            </div>
            <p>You can click <span class="ConsoleLink">Thread&#160;Dump</span> to display a thread dump for an executor, or you can click a log name to see the contents of the log.</p>
            <h2><a name="Viewing"></a>Viewing Job Details</h2>
            <p>If you click a job to see its details, you'll see a screen like the following displayed, which shows the stages of the job:</p>
            <div>
                <img src="../../Resources/Images/SparkUIJobdetails2.png" class="indentedTightSpacing" alt="Splice Management Console Spark Job Details screen" />
            </div>
            <p>You can expand the job detail display by selecting the <span class="ConsoleLink">Event Timeline</span> and/or <span class="ConsoleLink">DAG&#160;Visualization</span> buttons. </p>
            <h3><a name="Job"></a>Job Details Event Time Line View </h3>
            <p>The job details time-line view looks like the following screen shot:</p>
            <div>
                <img src="../../Resources/Images/SparkUIJobDetailsTimeline.png" class="indentedTightSpacing" alt="Event timeline view of a Spark job" />
            </div>
            <p>&#160;</p>
            <h3><a name="Query"></a>Job Details Graphical Visualization View</h3>
            <p>The DAG&#160;Visualization view for a job looks like this:</p>
            <div>
                <img src="../../Resources/Images/SparkUIJobDetailsDAG.png" class="indentedTightSpacing" alt="DAG view of a Spark job" />
            </div>
            <p>Some key things to know about the DAG&#160;view are:</p>
            <ul>
                <li value="1">
                    <p>You can click in the box representing a stage to view the detailed tasks within that stage. For an example, see <a href="#Graphica">Graphical View of the Tasks in a Stage</a>, in the next section.</p>
                </li>
                <li value="2">
                    <p>You can hover over any of the black dots inside a task box to display information about the task. For example:</p>
                    <div>
                        <img src="../../Resources/Images/SparkUIHoverDAG.png" class="nestedTightSpacing" alt="Spark UI hovering over a task node" />
                    </div>
                </li>
            </ul>
            <h2><a name="Viewing2"></a>Viewing Stage Details</h2>
            <p>Viewing stage details is very much the same as viewing job details. If you click the name of a stage in another page, the detailed view of that stage displays:</p>
            <div>
                <img src="../../Resources/Images/SparkUIStageDetails.png" class="indentedTightSpacing" alt="Details of a job stage" />
            </div>
            <h3><a name="The"></a>The Event Time Line View of a Stage</h3>
            <p>The Event Timeline view of a stage looks like this:</p>
            <div>
                <img src="../../Resources/Images/SparkUIStageDetailsTimeline.png" class="indentedTightSpacing" alt="Timeline view of a Spark job stage" />
            </div>
            <h3><a name="Graphica"></a>Graphical View of the Tasks in a Stage</h3>
            <p>The DAG&#160;Visualization view of a stage looks like this:</p>
            <div>
                <img src="../../Resources/Images/SparkUIStageDetailsDAG.png" class="indentedTightSpacing" alt="Graphical view of a Spark job stage" />
            </div>
            <h2><a name="Terminat"></a>Terminating a Stage</h2>
            <p>If you conclude that an active job stage is not performing the way you think it should, you can terminate a stage by clicking the <span class="AppCommand">Kill</span> button shown in the description of every active stage. The following image highlights the kill buttons that you'll find in the console&#160;display:</p>
            <div>
                <img src="../../Resources/Images/SparkUIKillStage.png" class="indentedTightSpacing" alt="Finding the Kill button in the Spark UI" />
            </div>
            <p>You'll be prompted to verify that you want the stage terminated:</p>
            <div>
                <img src="../../Resources/Images/SparkUIKillVerify.png" class="indentedTightSpacing" alt="Verifying that a stage should be terminated in the Spark UI" />
            </div>
            <p>You can access the <span class="AppCommand">Kill</span> button by drilling down into a job's stages, or by selecting the <span class="AppCommand">Stages</span> tab in the tab bar, which displays all stages for all jobs.</p>
            <h2>See Also</h2>
            <ul>
                <li value="1"><a href="../../OnPremise/GettingStarted/InMemoryEngine.html">The Splice&#160;Machine In-Memory Engine</a>
                </li>
                <li value="2"><a href="Intro.ManagementConsole.html">About the Splice Machine Management Console</a>
                </li>
                <li value="3"><a href="ConsoleFeatures.html">User Interface Features of the Splice&#160;Machine Management Console</a>
                </li>
                <li value="4"><a href="../Developers/Fundamentals/SparkLibraries.html">Using Spark Libraries with Splice Machine</a>
                </li>
            </ul>
            <p style="font-size: 6pt;margin-top: 0;margin-bottom: 0;">&#160;</p>
        </div>
    </body>
</html>