<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="withMenu" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-conditions="Review.ReviewOff" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Developer's Guide|Fundamentals">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="description" content="Provides an overview of working with dates and date arithmetic in Splice&#160;Machine." /><title>Working with Dates</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Resources/Stylesheets/SpliceTriPaneStyles.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../index.html#Shared/Developers/Fundamentals/WorkingWithDates.html">Open topic with navigation</a>
        </p>
        <div class="TopicContent">
            <h1>Working With Date and Time Values</h1>
            <p>This topic provides an overview of working with dates in Splice&#160;Machine.</p>
            <p class="noteIcon">For date and time values to work as expected in your database, you must make sure that all nodes in your cluster are set to the same time zone; otherwise 
the data you read from your database may differ, when you communicate with different servers! <br /><br />Please contact your system administrator if you have any questions about this.</p>
            <h2>Date and Time Functions</h2>
            <p> Here is a summary of the &#160;<span class="CodeFont"><a href="../../SQLReference/DataTypes/Date.html">DATE</a></span>,&#160;<span class="CodeFont"><a href="../../SQLReference/DataTypes/Time.html">TIME</a></span>, and <span class="CodeFont"><a href="../../SQLReference/DataTypes/TimeStamp.html">TIMESTAMP</a></span>&#160;functions included in this release of Splice Machine: </p>
            <table summary="Summary of the date and time functions available in Splice Machine.">
                <col />
                <col />
                <thead>
                    <tr>
                        <th>Function</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="CodeFont"><a href="../../SQLReference/BuiltInFcns/CurrentDate.html">CURRENT_DATE</a>
                        </td>
                        <td>Returns the current date as a <span class="CodeFont">DATE</span>&#160;value.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont"><a href="../../SQLReference/BuiltInFcns/Date.html">DATE</a>
                        </td>
                        <td>Returns a <span class="CodeFont">DATE</span>&#160;value from a <span class="CodeFont">DATE</span>&#160;value, a <span class="CodeFont">TIMESTAMP</span>&#160;value, a string representation of a date or timestamp value, or a numeric value representing elapsed days since January 1, 1970.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont"><a href="../../SQLReference/BuiltInFcns/Day.html">DAY</a>
                        </td>
                        <td>Returns  an integer value between 1 and 31 representing the day portion of a <span class="CodeFont">DATE</span>&#160;value, a <span class="CodeFont">TIMESTAMP</span>&#160;value, or a string representation of a date or timestamp value.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont"><a href="../../SQLReference/BuiltInFcns/Extract.html">EXTRACT</a>
                        </td>
                        <td>Extracts various date and time components from a date expression.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont"><a href="../../SQLReference/BuiltInFcns/LastDay.html">LAST_DAY</a>
                        </td>
                        <td>Returns a <span class="CodeFont">DATE</span>&#160;value representing the date of the last day of the month that contains the input date.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont"><a href="../../SQLReference/BuiltInFcns/Month.html">MONTH</a>
                        </td>
                        <td>Returns  an integer value between 1 and 12 representing the month portion of a <span class="CodeFont">DATE</span>&#160;value, a <span class="CodeFont">TIMESTAMP</span>&#160;value, or a string representation of a date or timestamp value.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont"><a href="../../SQLReference/BuiltInFcns/MonthBetween.html">MONTH_BETWEEN</a>
                        </td>
                        <td>Returns a decimal number representing the number of months between two dates.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont"><a href="../../SQLReference/BuiltInFcns/MonthName.html">MONTHNAME</a>
                        </td>
                        <td>Returns the month name from a date expression.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont"><a href="../../SQLReference/BuiltInFcns/NextDay.html">NEXT_DAY</a>
                        </td>
                        <td>Returns the date of the next specified day of the week after a specified date.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont"><a href="../../SQLReference/BuiltInFcns/Now.html">NOW</a>
                        </td>
                        <td>Returns the current date and time as a <span class="CodeFont">TIMESTAMP</span>&#160;value.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont"><a href="../../SQLReference/BuiltInFcns/Quarter.html">QUARTER</a>
                        </td>
                        <td>Returns the quarter number (1-4)&#160;from a date expression.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont"><a href="../../SQLReference/BuiltInFcns/TimeStamp.html">TIMESTAMP</a>
                        </td>
                        <td>Returns a timestamp value from a <span class="CodeFont">TIMESTAMP</span>&#160;value, a string representation of a timestamp value, or a string of digits representing such a value. </td>
                    </tr>
                    <tr>
                        <td class="CodeFont"><a href="../../SQLReference/BuiltInFcns/TimeStampAdd.html">TIMESTAMPADD</a>
                        </td>
                        <td>Adds the value of an interval to a <span class="CodeFont">TIMESTAMP</span>&#160;value and returns the sum as a new timestamp.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont"><a href="../../SQLReference/BuiltInFcns/TimeStampDiff.html">TIMESTAMPDIFF</a>
                        </td>
                        <td>Finds the difference between two timestamps, in terms of the specfied interval.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont"><a href="../../SQLReference/BuiltInFcns/ToChar.html">TO_CHAR</a>
                        </td>
                        <td>Returns string formed from a DATE&#160;value, using a format specification.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont"><a href="../../SQLReference/BuiltInFcns/ToDate.html">TO_DATE</a>
                        </td>
                        <td>Returns a <span class="CodeFont">DATE</span>&#160;value formed from an input string representation, using a format specification.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont"><a href="../../SQLReference/BuiltInFcns/Week.html">WEEK</a>
                        </td>
                        <td>Returns the week number (1-53)&#160;from a date expression.</td>
                    </tr>
                    <tr>
                        <td class="CodeFont"><a href="../../SQLReference/BuiltInFcns/Year.html">YEAR</a>
                        </td>
                        <td>Returns  an integer value between 1 and 9999 representing the year portion of a <span class="CodeFont">DATE</span>&#160;value, a <span class="CodeFont">TIMESTAMP</span>&#160;value, or a string representation of a date or timestamp value.</td>
                    </tr>
                </tbody>
            </table>
            <h2>Date Arithmetic</h2>
            <p>Splice Machine provides simple arithmetic operations — addition and subtraction — on date and timestamp values. You can: </p>
            <ul>
                <li value="1">find a future date value by adding an integer number of days to a date value</li>
                <li value="2">find a past date value by subtracting an integer number of days from a date value</li>
                <li value="3">subtract two date values to find the difference, in days, between those two values</li>
            </ul>
            <p>Here's the syntax for these inline operations:</p>
            <div class="preWrapper"><pre class="FcnSyntax" xml:space="preserve">&#160;  <span class="ItalicFont">dateValue</span> { "+"&#160;|&#160;"-" } <span class="ItalicFont">numDays</span>
|  <span class="ItalicFont">numDays</span>   '+' <span class="ItalicFont">dateValue</span>
|  <span class="ItalicFont">dateValue</span> '-' <span class="ItalicFont">dateValue</span></pre>
            </div>
            <div class="paramList">
                <p class="paramName">dateValue</p>
                <p class="paramDefnFirst">A&#160;<span class="CodeFont"><a href="../../SQLReference/DataTypes/Date.html">DATE</a></span>&#160;value or a <span class="CodeFont"><a href="../../SQLReference/DataTypes/TimeStamp.html">TIMESTAMP</a></span>&#160;value. This can be a literal date value, a reference to a date value in a table, or the result of a function that produces a date value as its result.</p>
                <p class="paramName">numDays</p>
                <p class="paramDefnFirst">An integer value expressing the number of days to add or subtract to a date value.</p>
            </div>
            <h3>Result Types</h3>
            <p>The result type of adding or subtracting a number of days to/from a date value is a date value of the same type (<span class="CodeFont">DATE</span>&#160;or <span class="CodeFont">TIMESTAMP</span>)&#160;as the <span class="CodeFont">dateValue</span> operand.</p>
            <p>The result type of subtracting one date value from another is the number of days between the two dates. This can be a positive or negative integer value.</p>
            <h3>Notes</h3>
            <p>A few important notes about these operations:</p>
            <ul>
                <li value="1">Adding a number of days to a date value is commutative, which means that the order of the <span class="CodeFont">dateValue</span> and <span class="CodeFont">numDays</span> operands is irrelevant.</li>
                <li value="2">Subtraction of a number of days from a date value is not commutative:&#160;the left-side operand must be a date value.</li>
                <li value="3">Attempting to add two date values produces an error, as does attempting to use a date value in a multiplication or division operation.</li>
            </ul>
            <h3>Examples</h3>
            <p>This section presents several examples of using date arithmetic. We'll first set up a simple table that stores a string value, a <span class="CodeFont">DATE</span>&#160;value, and a <span class="CodeFont">TIMESTAMP</span>&#160;value, and we'll use those values in our example.</p>
            <div class="preWrapperWide"><pre class="Example" xml:space="preserve">splice&gt; CREATE&#160;TABLE date_math (s VARCHAR(30), d DATE, t TIMESTAMP);
0 rows inserted/updated/deleted

splice&gt; INSERT&#160;INTO&#160;date_math values ('2012-05-23 12:24:36', '1988-12-26', '2000-06-07 17:12:30');
1 row inserted/updated/deleted
</pre>
            </div>
            <h4>Example 1: Add a day to a date column and then to a timestamp column</h4>
            <div class="preWrapperWide"><pre class="Example" xml:space="preserve">splice&gt; select d + 1 from date_math;
1
----------
1988-12-27
1 row selected

splice&gt; select 1+t from date_math;
1
----------
2000-06-08 17:12:30.0
1 row selected
</pre>
            </div>
            <h4>Example 2: Subtract a day from a timestamp column</h4>
            <div class="preWrapperWide"><pre class="Example" xml:space="preserve">splice&gt; select t - 1 from date_math;
1
-----------------------------
2000-06-06 17:12:30.0
1 row selected
</pre>
            </div>
            <h4>Example 3: Subtract a date column from the result of the <span class="CodeFont">CURRENT_DATE</span>&#160;function</h4>
            <div class="preWrapperWide"><pre class="Example" xml:space="preserve">splice&gt; select current_date - d from date_math;
1
-----------
9551
1 row selected
</pre>
            </div>
            <h4>Example 4: Additional examples using literal values</h4>
            <div class="preWrapperWide"><pre class="Example" xml:space="preserve">splice&gt; values  date('2011-12-26') + 1;
1
----------
2011-12-27
1 row selected

splice&gt; values  date('2011-12-26') - 1;
1
----------
2011-12-25
1 row selected

splice&gt; values  timestamp('2011-12-26', '17:13:30') + 1;
1
-----------------------------
2011-12-27 17:13:30.0
1 row selected

splice&gt; values  timestamp('2011-12-26', '17:13:30') - 1;
1
-----------------------------
2011-12-25 17:13:30.0
1 row selected

splice&gt; values  date('2011-12-26') - date('2011-06-05');
1
-----------
204
1 row selected

splice&gt; values  date('2011-06-05') - date('2011-12-26');
1
-----------
-204
1 row selected


splice&gt; values  timestamp('2015-06-07', '05:06:00') - current_date;
1
-----------
108
1 row selected

splice&gt; values  timestamp('2011-06-05', '05:06:00') - date('2011-12-26');
1
-----------
-203
1 row selected
</pre>
            </div>
            <h2>See Also</h2>
            <p>All of the following are in the <span class="ItalicFont"><a href="../../SQLReference/Intro.SQLReference.html">SQL&#160;Reference Manual</a></span>:</p>
            <ul>
                <li value="1"><a href="../../SQLReference/BuiltInFcns/CurrentDate.html"><span class="CodeFont">CURRENT_DATE</span></a>&#160;function</li>
                <li value="2"><a href="../../SQLReference/DataTypes/Date.html"><span class="CodeFont">DATE</span></a>&#160;data type</li>
                <li value="3"><a href="../../SQLReference/BuiltInFcns/Date.html"><span class="CodeFont">DATE</span></a>&#160;function</li>
                <li value="4"><a href="../../SQLReference/BuiltInFcns/Day.html"><span class="CodeFont">DAY</span></a>&#160;function</li>
                <li value="5"><a href="../../SQLReference/BuiltInFcns/Extract.html"><span class="CodeFont">EXTRACT</span></a>&#160;function</li>
                <li value="6"><a href="../../SQLReference/BuiltInFcns/LastDay.html"><span class="CodeFont">LASTDAY</span></a>&#160;function</li>
                <li value="7"><a href="../../SQLReference/BuiltInFcns/Month.html"><span class="CodeFont">MONTH</span></a> function</li>
                <li value="8"><a href="../../SQLReference/BuiltInFcns/MonthBetween.html"><span class="CodeFont">MONTH_BETWEEN</span></a> function</li>
                <li value="9"><a href="../../SQLReference/BuiltInFcns/MonthName.html"><span class="CodeFont">MONTHNAME</span></a>&#160;function</li>
                <li value="10"><a href="../../SQLReference/BuiltInFcns/NextDay.html"><span class="CodeFont">NEXTDAY</span></a>&#160;function</li>
                <li value="11"><a href="../../SQLReference/BuiltInFcns/Now.html"><span class="CodeFont">NOW</span></a> function</li>
                <li value="12"><a href="../../SQLReference/BuiltInFcns/Quarter.html"><span class="CodeFont">QUARTER</span></a> function</li>
                <li value="13"><a href="../../SQLReference/DataTypes/Time.html"><span class="CodeFont">TIME</span></a>&#160;data type</li>
                <li value="14"><a href="../../SQLReference/BuiltInFcns/TimeStamp.html"><span class="CodeFont">TIMESTAMP</span></a>&#160;function</li>
                <li value="15"><a href="../../SQLReference/BuiltInFcns/ToChar.html"><span class="CodeFont">TO_CHAR</span></a>&#160;function</li>
                <li value="16"><a href="../../SQLReference/BuiltInFcns/ToDate.html"><span class="CodeFont">TO_DATE</span></a>&#160;function</li>
                <li value="17"><a href="../../SQLReference/BuiltInFcns/Week.html"><span class="CodeFont">WEEK</span></a> function</li>
            </ul>
            <p style="font-size: 6pt;margin-top: 0;margin-bottom: 0;">&#160;</p>
        </div>
    </body>
</html>