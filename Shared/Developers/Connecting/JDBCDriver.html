<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="withMenu" data-mc-search-type="Stem" data-mc-help-system-file-name="index.xml" data-mc-path-to-help-system="../../../" data-mc-conditions="Review.ReviewOff" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="Developer's Guide|Connecting Your Database">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="description" content="How to install and configure the Splice Machine JDBC driver." /><title>Using the Splice Machine JDBC Driver</title>
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" data-mc-generated="True" />
        <link href="../../../Resources/Stylesheets/SpliceTriPaneStyles.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.min.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../index.html#Shared/Developers/Connecting/JDBCDriver.html">Open topic with navigation</a>
        </p>
        <div class="TopicContent">
            <h1>Using the Splice Machine JDBC&#160;Driver<a name="kanchor401"></a></h1>
            <p>This topic describes how to configure and use the Splice Machine JDBC&#160;driver, which you can use to connect with other databases and business tools that need to access your Splice Machine database; it also contains examples of configuring the JDBC&#160;driver with different programming languages. This topic contains these sections:</p>
            <ul>
                <li value="1"><a href="#Finding" class="MCXref xref" xrefformat="{para}">Finding the Driver</a> tells you how to access our JDBC&#160;driver.</li>
                <li value="2"><a href="#Connecti" class="MCXref xref" xrefformat="{para}">JDBC&#160;Driver Connection Parameters</a> describes the configuration parameters for our JDBC&#160;driver.</li>
                <li value="3"><a href="#Using" class="MCXref xref" xrefformat="{para}">Using the JDBC&#160;Driver with Java</a> contains a simple program that demonstrates the use of our JBDC&#160;driver with Java.</li>
                <li value="4"><a href="#Using2" class="MCXref xref" xrefformat="{para}">Using the JDBC&#160;Driver with Jython</a> contains a simple program that demonstrates the use of our JBDC&#160;driver with Jython.</li>
                <li value="5"><a href="#Using3" class="MCXref xref" xrefformat="{para}">Using the JDBC&#160;Driver with JRuby</a>contains a simple program that demonstrates the use of our JBDC&#160;driver with JRuby.</li>
            </ul>
            <h2><a name="Finding"></a>Finding the Driver</h2>
            <p>Our JDBC&#160;driver is automatically installed on your computer(s) when you install Splice Machine. You'll find it in the <span class="CodeFont">jdbc-driver</span> folder under the <span class="CodeFont">splicemachine</span> directory. Typical locations are:</p>
            <table summary="Locations of the JDBC driver.">
                <col />
                <col />
                <thead>
                    <tr>
                        <th>OS</th>
                        <th>Driver Location</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="BoldFont">Linux / MacOS</td>
                        <td class="CodeFont">/splicemachine/jdbc-driver/<span class="PlatformVariablesJDBCDriverJar">db-client-2.0.1.18.jar</span></td>
                    </tr>
                    <tr>
                        <td class="BoldFont">Windows</td>
                        <td class="CodeFont">C:\splicemachine\jdbc-driver\<span class="PlatformVariablesJDBCDriverJar">db-client-2.0.1.18.jar</span></td>
                    </tr>
                </tbody>
            </table>
            <p class="noteImportant" data-mc-autonum="IMPORTANT: &#160;"><span class="autonumber"><span class="noteAutoNum">IMPORTANT: &#160;</span></span>You <span class="BoldFont">must</span> use the <span class="ItalicFont">Splice Machine</span> JDBC or ODBC drivers; other drivers will not work correctly.</p>
            <h2><a name="Connecti"></a>JDBC&#160;Driver Connection Parameters</h2>
            <p>You need to specify a few parameters to configure and/or connect with the JDBC&#160;driver; the following table shows the default values for connecting to Splice Machine:</p>
            <table summary="Table of default Splice Machine connection parameters.">
                <col />
                <col />
                <col />
                <thead>
                    <tr>
                        <th>Connection Parameter</th>
                        <th>Default Value</th>
                        <th>Comments</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="ItalicFont">JDBC&#160;URL</td>
                        <td class="CodeFont">jdbc:splice://<span class="Highlighted">&lt;hostname&gt;</span>:1527/splicedb</td>
                        <td>
                            <p class="noSpaceAbove">Use <span class="CodeFont">localhost</span> as the <span class="HighlightedCode">&lt;hostname&gt;</span>&#160;value for the standalone version of Splice Machine.</p>
                            <p>On a cluster, specify the IP&#160;address of an HBase RegionServer.</p>
                        </td>
                    </tr>
                    <tr>
                        <td class="ItalicFont">JDBC&#160;driver class</td>
                        <td class="CodeFont">com.splicemachine.db.jdbc.ClientDriver</td>
                        <td>&#160;</td>
                    </tr>
                    <tr>
                        <td class="ItalicFont">User name</td>
                        <td class="CodeFont">splice</td>
                        <td>This is the default value; consult with your administrator for the value you should use.</td>
                    </tr>
                    <tr>
                        <td class="ItalicFont">Password</td>
                        <td class="CodeFont">admin</td>
                        <td>This is the default value; consult with your administrator for the value you should use.</td>
                    </tr>
                    <tr>
                        <td class="ItalicFont">Database name</td>
                        <td class="CodeFont">splicedb</td>
                        <td>&#160;</td>
                    </tr>
                </tbody>
            </table>
            <h2><a name="Using"></a>Using the JDBC&#160;Driver with Java</h2>
            <p>To use our JDBC&#160;driver with Java, you need to locate the Splice Machine client JAR file, which is automatically installed for you when you install Splice Machine. Follow the instructions in the previous section, <a href="#Connecti" class="MCXref xref" xrefformat="{para}">JDBC&#160;Driver Connection Parameters</a>, to configure your connection.</p>
            <p>This section contains the <span class="CodeFont">SampleJDBC</span>&#160;program, which does the following:</p>
            <ul>
                <li value="1"> connects to a standalone (<span class="CodeFont">localhost</span>)&#160;version of Splice Machine</li>
                <li value="2">creates a table named <span class="CodeFont">MYTESTTABLE</span></li>
                <li value="3">inserts several sample records</li>
                <li value="4">issues a query to retrieve those records</li>
            </ul>
            <h3>SampleJDBC</h3>
            <p>Here's a simple example program that uses our JDBC&#160;driver with&#160;Java:</p>
            <div class="opsStepsList">
                <ol class="boldFont">
                    <li value="1">
                        <p class="topLevel">Copy the code:</p>
                        <p class="indentLevel1">You can copy and paste the code below:</p>
                        <div class="gistWrapperWide">
                            <script src="https://gist.github.com/ghillerson/66799872973eaa34474ea3ce35c81d77.js">
                            </script>
                        </div>
                    </li>
                    <li value="2">
                        <p class="topLevel">Compile it:</p>
                        <p class="indentLevel1">Compile and package the code into <span class="ShellCommand">splice-jdbc-test-0.0.1-SNAPSHOT.jar</span>.</p>
                    </li>
                    <li value="3">
                        <p class="topLevel">Run the program:</p>
                        <p class="indentLevel1">When you run the program, your <span class="CodeFont">CLASSPATH</span> must include the path to the splice JDBC driver. If you did compile and package your code into <span class="CodeFont">splice-jdbc-test-<span class="PlatformVariablesSpliceJarVersionNum">2.0.0-SNAPSHOT.jar</span>-SNAPSHOT.jar</span>, you can run the program with this command line:</p>
                        <div class="preWrapperWide"><pre class="ShellCommand" xml:space="preserve">java -cp splice-installer-<span class="Highlighted">&lt;platformVersion&gt;</span>/resources/jdbc-driver/<span class="PlatformVariablesJDBCDriverJar">db-client-2.0.1.18.jar</span> com.splicemachine.cs.tools.SampleJDBC   </pre>
                        </div>
                        <p class="indentLevel1">The command should display a result like the following:</p>
                        <p class="indentLevel1">
                            <div class="preWrapperWide"><pre class="ShellCommand" xml:space="preserve">
java -cp ./target/splice-cs-<span class="PlatformVariablesSpliceJarVersionNum">2.0.0-SNAPSHOT.jar</span>-SNAPSHOT.jar com.splicemachine.cs.tools.SampleJDBC
record=[1] a=[1] b=[a]
record=[2] a=[2] b=[b]
record=[3] a=[3] b=[c]
record=[4] a=[4] b=[c]
record=[5] a=[5] b=[c]</pre>
                            </div>
                        </p>
                    </li>
                </ol>
            </div>
            <h2><a name="Using2"></a>Using the JDBC&#160;Driver with Jython</h2>
            <p>The sample program in this section, <span class="CodeFont">print_tables.jy</span>, connects to Splice Machine, executes a query, and displays the retrieved results.</p>
            <p>You must first:</p>
            <ul>
                <li value="1">
                    <p>Have Jython installed. You can download and install Jython by following the installation instructions in the Tutorials sections of the <a href="https://community.splicemachine.com/" target="_blank">Splice Community</a> site.</p>
                </li>
                <li value="2">
                    <p>Add the Splice client jar to your <span class="CodeFont">CLASSPATH</span>; for example:</p>
                    <div class="preWrapperWide"><pre class="ShellCommand" xml:space="preserve">
export CLASSPATH=<span class="Highlighted">/splicemachine/jdbc-driver/<span class="PlatformVariablesJDBCDriverJar">db-client-2.0.1.18.jar</span></span></pre>
                    </div>
                </li>
            </ul>
            <h3>print_tables.jy</h3>
            <p>Here's a simple example program that uses our JDBC&#160;driver with&#160;Jython:</p>
            <div class="opsStepsList">
                <ol class="boldFont">
                    <li value="1">
                        <p class="topLevel">Copy the code:</p>
                        <p class="indentLevel1">You can copy and paste the code below:</p>
                        <p class="indentLevel1">
                            <div class="gistWrapperWide">
                                <script src="https://gist.github.com/ghillerson/b4c22aef62a9f2407eb0fce64492d75c.js">
                                </script>
                            </div>
                        </p>
                    </li>
                    <li value="2">
                        <p class="topLevel">Save the code to <span class="CodeFont">print_files.jy</span>.</p>
                    </li>
                    <li value="3">
                        <p class="topLevel">Run the program:</p>
                        <p class="indentLevel1">Run the <span class="CodeFont">print_tables.jy</span> program as follows:</p>
                        <p class="indentLevel1">
                            <div class="preWrapperWide"><pre class="ShellCommand" xml:space="preserve">jython print_tables.jy  </pre>
                            </div>
                        </p>
                        <p class="indentLevel1">The command should display a result like the following:</p>
                        <p class="indentLevel1">
                            <div class="preWrapperWide"><pre class="AppCommand" xml:space="preserve">
Record=[1] id=[f9f140e7-0144-fcd8-d703-00003cbfba48] name=[ASDAS] type=[T]
Record=[2] id=[c934c123-0144-fcd8-d703-00003cbfba48] name=[DDC_NOTMAILABLE] type=[T]
Record=[3] id=[dd5cc163-0144-fcd8-d703-00003cbfba48] name=[FRANK_EMCONT_20130430] type=[T]
Record=[4] id=[f584c1a3-0144-fcd8-d703-00003cbfba48] name=[INACTIVE_QA] type=[T]
Record=[5] id=[cfcc41df-0144-fcd8-d703-00003cbfba48] name=[NUM_GROOM4] type=[T]
Record=[6] id=[6b7f4217-0144-fcd8-d703-00003cbfba48] name=[PP_LL_QA] type=[T]
Record=[7] id=[ac154287-0144-fcd8-d703-00003cbfba48] name=[QUAL_BRANDS] type=[T]
Record=[8] id=[d67d42c7-0144-fcd8-d703-00003cbfba48] name=[SCIENCE_CAT_QA] type=[T]
Record=[9] id=[c1e0c303-0144-fcd8-d703-00003cbfba48] name=[TESTOUTPUT2] type=[T]
Record=[10] id=[f408c343-0144-fcd8-d703-00003cbfba48] name=[UAC_1267_AVJ] type=[T]</pre>
                            </div>
                        </p>
                    </li>
                </ol>
            </div>
            <h2><a name="Using3"></a>Using the JDBC&#160;Driver with JRuby</h2>
            <p>To use JRuby with Splice Machine, you need these software components:</p>
            <ul>
                <li value="1">JRuby itself, which you can read about and download from  <a href="http://jruby.org/" target="_blank">http://jruby.org</a>.</li>
                <li value="2">The Ruby Version Manager (<span class="ItalicFont">RVM</span>), which provides the simple environment management capabilities to manage multiple Ruby environments.</li>
                <li value="3">The Splice Machine Derby JDBC&#160;driver.</li>
                <li value="4">The Rails <span class="CodeFont">activerecord-jdbcderby-adapter</span> gem (package).</li>
            </ul>
            <h3>Configuring Splice Machine</h3>
            <p>You must assign the database connectivity parameters in the <span class="CodeFont">config/database.yml</span> file for your JRuby application. Your connectivity parameters should look like the following:</p>
            <div class="preWrapperWide"><pre class="AppCommand" xml:space="preserve"># Configure Using Gemfile
# gem 'activerecord-jdbcsqlite3-adapter'
# gem 'activerecord-jdbcderby-adapter'
#
development:
    adapter: jdbcderby
    database: splicedb
    username: splice
    password: admin
    driver: com.splicemachine.db.jdbc.ClientDriver
    url: jdbc:splice://localhost:1527/splicedb</pre>
            </div>
            <h3>JRubyJDBC</h3>
            <p>Here's a simple example program that uses our JDBC&#160;driver with&#160;JRuby:</p>
            <div class="opsStepsList">
                <ol class="boldFont">
                    <li value="1">
                        <p class="topLevel">Create the sample data table</p>
                        <p class="indentLevel1">Create the <span class="CodeFont">MYTESTTABLE</span>&#160;table in your database and add a little test data. Your table should look something like the following: </p>
                        <p class="indentLevel1">
                            <div class="preWrapperWide"><pre class="AppCommand" xml:space="preserve">splice&gt;&#160;describe SPLICE.MYTESTTABLE;


COLUMN_NAME         |TYPE_NAME|DEC |NUM |COLUMN|COLUMN_DEF|CHAR_OCTE |IS_NULL
------------------------------------------------------------------------------
A                   |INTEGER  |0   |10  |10    |NULL      |NULL      |YES     
B                   |VARCHAR  |NULL|NULL|30    |NULL      |60        |YES     
 
2 rows selected

splice&gt;&#160;select *&#160;from MYTESTTABLE&#160;order by A;

A     |B
---------------------------
1     |a
2     |b
3     |c
4     |c
5     |c

5 rows selected</pre>
                            </div>
                        </p>
                    </li>
                    <li value="2">
                        <p class="topLevel">Copy the code</p>
                        <p class="indentLevel1">You can copy and paste the code below:</p>
                        <div class="gistWrapperWide">
                            <script src="https://gist.github.com/ghillerson/07a91a754bb01b376a96f35657c21049.js">
                            </script>
                        </div>
                    </li>
                    <li value="3">
                        <p class="topLevel">Run the program</p>
                        <p class="indentLevel1">Run the <span class="CodeFont">JRubyConnect</span> program as follows</p>
                        <div class="preWrapperWide"><pre class="ShellCommand" xml:space="preserve">jruby jrubyjdbc.rb   </pre>
                        </div>
                        <p class="indentLevel1">The command should display a result like the following:</p>
                        <div class="preWrapperWide"><pre class="AppCommand" xml:space="preserve">
Record=[1] a=[3] b=[c]
Record=[2] a=[4] b=[c]
Record=[3] a=[5] b=[c]
Record=[4] a=[1] b=[a]
Record=[5] a=[2] b=[b]</pre>
                        </div>
                    </li>
                </ol>
            </div>
            <p style="font-size: 6pt;margin-top: 0;margin-bottom: 0;">&#160;</p>
        </div>
    </body>
</html>